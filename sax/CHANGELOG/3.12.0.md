# SAX v3.12.0 - Creator Agent를 Manager Agent로 통합 (생성/수정/삭제)

**Release Date**: 2025-11-26

## Overview

SAX-Meta의 `agent-creator`, `skill-creator`, `command-creator`를 각각 `agent-manager`, `skill-manager`, `command-manager`로 리팩토링하여, 생성뿐만 아니라 수정 및 삭제 작업까지 통합 관리할 수 있도록 역할을 확장했습니다.

## Changes

### SAX-Meta Agents

#### Changed

- **agent-creator → agent-manager**:
  - 파일명 변경: `agents/agent-creator.md` → `agents/agent-manager.md`
  - 역할 확장: Agent 생성 + 수정 + 삭제
  - 키워드 확장: "Agent 추가", "Agent 수정", "Agent 변경", "Agent 삭제", "Agent 제거"
  - 워크플로우 추가: Create/Update/Delete Phase별 상세 가이드
  - Output Format: 생성/수정/삭제 완료 시 각각 다른 템플릿 제공

- **skill-creator → skill-manager**:
  - 파일명 변경: `agents/skill-creator.md` → `agents/skill-manager.md`
  - 역할 확장: Skill 생성 + 수정 + 삭제
  - 키워드 확장: "Skill 추가", "Skill 수정", "Skill 변경", "Skill 삭제", "Skill 제거"
  - Progressive Disclosure 재적용: 수정 시 복잡도에 따라 references/ 분리/통합
  - 워크플로우 추가: Create/Update/Delete Phase별 상세 가이드

- **command-creator → command-manager**:
  - 파일명 변경: `agents/command-creator.md` → `agents/command-manager.md`
  - 역할 확장: Command 생성 + 수정 + 삭제
  - 키워드 확장: "Command 추가", "Command 수정", "Command 삭제"
  - 동기화 관리: .claude/ 디렉토리 동기화 자동화 포함
  - 워크플로우 추가: Create/Update/Delete Phase별 상세 가이드

#### Updated

- **orchestrator.md**:
  - Routing Decision Table 업데이트:
    - `agent-creator` → `agent-manager` (생성/수정/삭제)
    - `skill-creator` → `skill-manager` (생성/수정/삭제)
    - `command-creator` → `command-manager` (생성/수정/삭제)
  - 키워드 확장: 수정/삭제 관련 키워드 추가
  - 예시 추가: Agent 수정 요청, Skill 삭제 요청 예시
  - Related 링크 업데이트: creator → manager로 변경

- **CLAUDE.md**:
  - 주요 라우팅 테이블 업데이트:
    - Agent 생성 → Agent 생성/수정/삭제
    - Skill 생성 → Skill 생성/수정/삭제
    - Command 생성 → Command 생성/수정/삭제

#### Deleted

- `agents/agent-creator.md` (→ `agents/agent-manager.md`로 대체)
- `agents/skill-creator.md` (→ `agents/skill-manager.md`로 대체)
- `agents/command-creator.md` (→ `agents/command-manager.md`로 대체)

## Rationale

### 기존 문제점

- **제한적인 역할**: creator agent는 생성만 가능, 수정/삭제는 수동으로 처리
- **불완전한 라이프사이클**: Agent/Skill/Command의 전체 생명주기를 관리하지 못함
- **유지보수 부담**: 수정/삭제 작업 시 참조 무결성 검증을 수동으로 수행

### 개선 사항

- **통합 관리**: 생성/수정/삭제를 하나의 manager가 담당
- **완전한 라이프사이클**: Create → Update → Delete 전체 워크플로우 제공
- **참조 무결성**: 삭제 시 CLAUDE.md, orchestrator.md, Related 링크 자동 정리
- **자동 동기화**: .claude/ 디렉토리 동기화 자동화

## Impact

### SAX 개발자

#### Before (v3.11.0)

```markdown
User: "agent-creator Agent 역할 변경해줘"

Claude: [수동으로 agent-creator.md 파일 수정]
        [CLAUDE.md 수동 업데이트]
        [orchestrator.md 수동 업데이트]
```

#### After (v3.12.0)

```markdown
User: "agent-creator Agent 역할 변경해줘"

[SAX] Orchestrator: 의도 분석 완료 → Agent 수정 요청
[SAX] Agent 위임: agent-manager (사유: SAX Agent 수정)

Claude: [agent-manager가 자동으로 수정 작업 수행]
        [관련 참조 자동 업데이트]
```

### 새로운 워크플로우

#### Agent 수정 요청

```markdown
User: epic-master Agent에 Draft Task 생성 기능 추가해줘

[SAX] Orchestrator: 의도 분석 완료 → Agent 수정 요청
[SAX] Agent 위임: agent-manager (사유: SAX Agent 수정)

## ✅ SAX Agent 수정 완료

**Agent**: epic-master
**Changes**: Draft Task 생성 기능 추가

### 변경된 항목
- ✅ Capabilities 섹션 업데이트
- ✅ Workflow Phase 추가
- ✅ CLAUDE.md 업데이트
```

#### Skill 삭제 요청

```markdown
User: deprecated-skill 삭제해줘

[SAX] Orchestrator: 의도 분석 완료 → Skill 삭제 요청
[SAX] Agent 위임: skill-manager (사유: SAX Skill 삭제)

## ✅ SAX Skill 삭제 완료

**Skill**: deprecated-skill
**Removed**: `sax/packages/sax-po/skills/deprecated-skill/`

### 정리된 항목
- ✅ Skill 디렉토리 전체 삭제
- ✅ CLAUDE.md Skills 테이블 업데이트
- ✅ Agent "Skills Used" 섹션 제거
- ✅ 다른 Skill의 Related 링크 제거
```

## Migration Guide

### Agent/Skill/Command 수정 시

**Before** (v3.11.0):
- 직접 파일 수정 또는 일반 Claude 작업 요청
- 참조 무결성 수동 검증

**After** (v3.12.0):
- "Agent 수정해줘", "Skill 변경해줘" 요청
- manager agent가 자동으로 처리

### Agent/Skill/Command 삭제 시

**Before** (v3.11.0):
- 직접 파일 삭제
- CLAUDE.md, orchestrator.md 수동 업데이트
- Related 링크 수동 제거

**After** (v3.12.0):
- "Agent 삭제해줘", "Skill 제거해줘" 요청
- manager agent가 영향도 분석 후 자동 정리

## Technical Details

### Manager Agent 구조

각 manager agent는 3가지 Phase를 지원합니다:

#### Phase 1: Create
- 요구사항 수집 (대화형)
- 구조 설계
- 파일 생성
- 통합 업데이트 (CLAUDE.md, orchestrator.md)
- 검증

#### Phase 2: Update
- 기존 파일 분석
- 수정 작업 수행 (Frontmatter, 역할, 워크플로우 등)
- 통합 업데이트
- 참조 무결성 검증

#### Phase 3: Delete
- 영향도 분석
- 참조 제거 (CLAUDE.md, orchestrator.md, Related 링크)
- 파일/디렉토리 삭제
- 검증

### 작업 타입 자동 감지

manager agent는 사용자 요청을 분석하여 작업 타입을 자동 결정합니다:

- **생성 키워드**: "만들어", "추가", "생성"
- **수정 키워드**: "수정", "변경", "역할 확장", "업데이트"
- **삭제 키워드**: "삭제", "제거"

## Breaking Changes

### 파일명 변경

- `agents/agent-creator.md` → `agents/agent-manager.md`
- `agents/skill-creator.md` → `agents/skill-manager.md`
- `agents/command-creator.md` → `agents/command-manager.md`

### 키워드 확장

orchestrator.md Routing Decision Table:

**Before**:
```markdown
| Agent 생성 | `agent-creator` | "Agent 만들어", "새 Agent", "Agent 추가" |
```

**After**:
```markdown
| Agent 생성/수정/삭제 | `agent-manager` | "Agent 만들어", "새 Agent", "Agent 추가", "Agent 수정", "Agent 변경", "Agent 삭제", "Agent 제거" |
```

### Related 링크 업데이트

모든 Agent/Skill의 Related 섹션에서 creator → manager로 링크 변경 필요:

**Before**:
```markdown
## Related
- [agent-creator](./agent-creator.md)
```

**After**:
```markdown
## Related
- [agent-manager](./agent-manager.md)
```

## Future Improvements

### 향후 확장 가능성

1. **자동 백업**: 수정/삭제 전 자동 백업 생성
2. **롤백 기능**: 변경 사항 되돌리기
3. **변경 이력**: Agent/Skill/Command 변경 이력 추적
4. **충돌 감지**: 동시 수정 충돌 감지 및 해결

### 다른 패키지 적용

- SAX-PO: po-agent-manager, po-skill-manager 등으로 확장 가능
- SAX-Next: next-agent-manager 등으로 확장 가능

## References

- [SAX-Meta agent-manager](https://github.com/semicolon-devteam/docs/blob/main/sax/packages/sax-meta/agents/agent-manager.md)
- [SAX-Meta skill-manager](https://github.com/semicolon-devteam/docs/blob/main/sax/packages/sax-meta/agents/skill-manager.md)
- [SAX-Meta command-manager](https://github.com/semicolon-devteam/docs/blob/main/sax/packages/sax-meta/agents/command-manager.md)
- [SAX-Meta orchestrator](https://github.com/semicolon-devteam/docs/blob/main/sax/packages/sax-meta/agents/orchestrator.md)
- [SAX Core Principles](https://github.com/semicolon-devteam/docs/blob/main/sax/core/PRINCIPLES.md)

## Contributors

- SAX Development Team
