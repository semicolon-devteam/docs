---
name: create-issues
description: Convert tasks.md into actionable GitHub Issues with Epic linking and dependency ordering. Used by agents after task generation.
location: project
---

# Create Issues Skill

**Purpose**: Automated GitHub Issues creation from tasks.md with Epic linking and metadata

## When to Use

Agents should invoke this skill when:

- `tasks.md` has been generated by `skill:spec`
- User approves GitHub Issues creation
- Manual task â†’ issue conversion requested
- Epic needs sub-issues for tracking

## What It Does

### Phase 1 - Parse tasks.md

1. **Read tasks.md**
   - Load `specs/N-short-name/tasks.md`
   - Parse all tasks by DDD layer grouping
   - Extract task metadata:
     - Task ID (e.g., `1.1`, `1.2`)
     - Description
     - Layer (CONFIG, PROJECT, TESTS, DATA, CODE)
     - Dependencies
     - Estimated complexity

2. **Analyze Structure**
   - Identify dependency chains
   - Group related tasks
   - Determine issue creation order

### Phase 2 - Find Parent Epic

3. **Detect Epic**
   - Search for Epic issue in GitHub
   - Match by feature name or branch name
   - If not found: prompt user for Epic number or create new Epic

4. **Validate Epic**
   - Verify Epic exists
   - Check Epic is open
   - Confirm Epic is in correct repository

### Phase 3 - Generate Issues

5. **For Each Task**:

   **Create Issue Title**:

   ```
   [Layer] Task Description
   ```

   Examples:
   - `[v0.1.x PROJECT] Scaffold domain structure`
   - `[v0.2.x TESTS] Write Repository tests`
   - `[v0.4.x CODE] Implement Hooks`

   **Create Issue Body**:

   ```markdown
   ## ðŸ“‹ Task Description

   [Task description from tasks.md]

   ## ðŸŽ¯ Acceptance Criteria

   - [ ] [Criterion 1]
   - [ ] [Criterion 2]
   - [ ] [Criterion 3]

   ## ðŸ”— Dependencies

   Depends on: #[issue-number]

   ## ðŸ“Š Metadata

   - **Layer**: [CONFIG | PROJECT | TESTS | DATA | CODE]
   - **Version**: [v0.0.x | v0.1.x | v0.2.x | v0.3.x | v0.4.x]
   - **Complexity**: [Simple | Medium | Complex]
   - **Epic**: #[epic-number]

   ## ðŸ“š Related Documents

   - [Spec](../specs/N-short-name/spec.md)
   - [Plan](../specs/N-short-name/plan.md)
   - [Tasks](../specs/N-short-name/tasks.md)

   ---

   ðŸ¤– Generated from tasks.md by Claude Code
   ```

6. **Apply Labels**:
   - Layer-based: `v0.0.x-config`, `v0.1.x-project`, `v0.2.x-tests`, `v0.3.x-data`, `v0.4.x-code`
   - Domain: `domain:posts`, `domain:auth`, `domain:dashboard`
   - Complexity: `complexity:simple`, `complexity:medium`, `complexity:complex`
   - Type: `task` (to distinguish from bugs, features)

7. **Link to Epic**:
   ```bash
   gh issue edit [issue-number] --add-project "Project Board" \
     --milestone "v1.0" --add-field "Epic=#[epic-number]"
   ```

### Phase 4 - Execute Creation

8. **Create Issues in Order**:
   - Respect dependency order
   - Create parent tasks before dependent tasks
   - Link dependencies using "Depends on: #X" in body

9. **Track Created Issues**:
   ```javascript
   {
     "1.1": { id: 145, url: "..." },
     "1.2": { id: 146, url: "..." },
     "2.1": { id: 147, url: "..." }
   }
   ```

### Phase 5 - Update tasks.md

10. **Add Issue References**:

    ```markdown
    ### 1.1 Scaffold domain structure (Issue #145)

    - Create `app/posts/_repositories/` directory
    - ...

    ### 1.2 Setup tests infrastructure (Issue #146)

    - Install Vitest and testing-library
    - ...
    ```

11. **Add Summary Section**:

    ```markdown
    ## GitHub Issues

    Created 15 issues for this feature:

    **v0.0.x CONFIG**:

    - #145: Check dependencies

    **v0.1.x PROJECT**:

    - #146: Scaffold domain structure

    **v0.2.x TESTS**:

    - #147: Write Repository tests
    - #148: Write Hooks tests
    - #149: Write Component tests

    **v0.3.x DATA**:

    - #150: Define models

    **v0.4.x CODE**:

    - #151: Implement Repository
    - #152: Implement API Client
    - #153: Implement Hooks
    - #154-#159: Implement Components (6 standard components)

    **Epic**: #144 - Add comment functionality
    ```

### Phase 6 - Report

12. **Generate Summary**:

    ```markdown
    âœ… GitHub Issues Created: 15 issues

    **Epic**: #144 - Add comment functionality
    **Issues**: #145-#159

    **By Layer**:

    - v0.0.x CONFIG: 1 issue
    - v0.1.x PROJECT: 1 issue
    - v0.2.x TESTS: 3 issues
    - v0.3.x DATA: 1 issue
    - v0.4.x CODE: 9 issues

    **Updated Files**:

    - specs/N-comments/tasks.md (added issue references)

    **Next Steps**:

    - View project board: [URL]
    - Start with issue #145
    - Close issues as tasks complete
    ```

## Usage

```javascript
// After tasks.md generation (from skill:spec)
skill: create -
  issues({
    tasksFile: "specs/5-post-likes/tasks.md",
    epic: 144, // Optional: auto-detect if omitted
  });

// Standalone conversion
skill: create -
  issues({
    tasksFile: "specs/7-notifications/tasks.md",
    createEpic: true, // Create new Epic if none exists
  });

// With custom labels
skill: create -
  issues({
    tasksFile: "specs/9-search/tasks.md",
    labels: ["priority:high", "team:frontend"],
  });
```

## Output Format

````markdown
# GitHub Issues Creation Report

**Feature**: Add comment functionality
**Tasks File**: specs/5-comments/tasks.md
**Date**: 2025-01-20

---

## Summary

âœ… **15 issues created** from 15 tasks
ðŸ”— **Epic #144** linked
ðŸ“‹ **tasks.md** updated with issue references

---

## Created Issues

### v0.0.x CONFIG (1 issue)

- **#145**: Check dependencies
  - Labels: `v0.0.x-config`, `domain:posts`, `task`
  - URL: https://github.com/semicolon-devteam/cm-template/issues/145

### v0.1.x PROJECT (1 issue)

- **#146**: Scaffold domain structure
  - Labels: `v0.1.x-project`, `domain:posts`, `task`
  - Depends on: #145
  - URL: https://github.com/semicolon-devteam/cm-template/issues/146

### v0.2.x TESTS (3 issues)

- **#147**: Write Repository tests
  - Labels: `v0.2.x-tests`, `domain:posts`, `complexity:medium`, `task`
  - Depends on: #146
  - URL: https://github.com/semicolon-devteam/cm-template/issues/147

- **#148**: Write Hooks tests
  - Labels: `v0.2.x-tests`, `domain:posts`, `complexity:medium`, `task`
  - Depends on: #146
  - URL: https://github.com/semicolon-devteam/cm-template/issues/148

- **#149**: Write Component tests
  - Labels: `v0.2.x-tests`, `domain:posts`, `complexity:simple`, `task`
  - Depends on: #146
  - URL: https://github.com/semicolon-devteam/cm-template/issues/149

### v0.3.x DATA (1 issue)

- **#150**: Define models and types
  - Labels: `v0.3.x-data`, `domain:posts`, `task`
  - Depends on: #146
  - URL: https://github.com/semicolon-devteam/cm-template/issues/150

### v0.4.x CODE (9 issues)

- **#151**: Implement Repository layer
  - Labels: `v0.4.x-code`, `domain:posts`, `complexity:complex`, `task`
  - Depends on: #147, #150
  - URL: https://github.com/semicolon-devteam/cm-template/issues/151

- **#152**: Implement API Client layer
  - Labels: `v0.4.x-code`, `domain:posts`, `complexity:medium`, `task`
  - Depends on: #146
  - URL: https://github.com/semicolon-devteam/cm-template/issues/152

- **#153**: Implement Hooks layer
  - Labels: `v0.4.x-code`, `domain:posts`, `complexity:medium`, `task`
  - Depends on: #148, #152
  - URL: https://github.com/semicolon-devteam/cm-template/issues/153

- **#154-#159**: Implement Components (6 standard)
  - Labels: `v0.4.x-code`, `domain:posts`, `complexity:simple`, `task`
  - Depends on: #149, #153
  - URLs: [list of 6 URLs]

---

## Epic Integration

**Epic**: #144 - Add comment functionality
**Project Board**: Semicolon Community Template
**Milestone**: v1.0

All issues linked to Epic for tracking.

---

## Updated Files

**specs/5-comments/tasks.md**:

```diff
+ ## GitHub Issues
+
+ Created 15 issues for this feature:
+ - #145: CONFIG - Check dependencies
+ - #146: PROJECT - Scaffold domain structure
+ ...
+
### 1.1 Scaffold domain structure (Issue #146)
```
````

---

## GitHub CLI Commands Used

```bash
# Create Epic (if needed)
gh issue create --title "Add comment functionality" \
  --label "epic" --body "..."

# Create task issues
gh issue create --title "[v0.1.x PROJECT] Scaffold domain structure" \
  --label "v0.1.x-project,domain:posts,task" \
  --body "..." \
  --assignee "@me"

# Link to Epic
gh issue edit 146 --add-field "Epic=#144"

# Add dependencies (via body text)
```

---

## Next Steps

1. **View All Issues**: https://github.com/semicolon-devteam/cm-template/issues?q=is%3Aissue+label%3Atask+is%3Aopen
2. **Project Board**: https://github.com/orgs/semicolon-devteam/projects/[board-id]
3. **Start Implementation**: Begin with issue #145
4. **Track Progress**: Close issues as tasks complete

```

## Issue Naming Conventions

### Title Format
```

[Layer] Description

````

Examples:
- `[v0.0.x CONFIG] Check dependencies`
- `[v0.1.x PROJECT] Scaffold posts domain structure`
- `[v0.2.x TESTS] Write PostsRepository unit tests`
- `[v0.3.x DATA] Define Post and Comment models`
- `[v0.4.x CODE] Implement useComments hook`

### Label Conventions

**Layer Labels** (required):
- `v0.0.x-config`
- `v0.1.x-project`
- `v0.2.x-tests`
- `v0.3.x-data`
- `v0.4.x-code`

**Domain Labels** (required):
- `domain:posts`
- `domain:auth`
- `domain:dashboard`
- `domain:profile`

**Complexity Labels** (optional):
- `complexity:simple` - Straightforward, < 1 hour
- `complexity:medium` - Moderate, 1-3 hours
- `complexity:complex` - Challenging, > 3 hours

**Type Labels** (required):
- `task` - From tasks.md
- `bug` - Bug fix
- `feature` - New feature
- `epic` - Parent Epic

## Dependency Handling

### Dependency Detection

Parse tasks.md for dependency indicators:

```markdown
### 1.2 Write Repository tests

**Depends on**: Task 1.1 (Scaffold structure)

- Test `PostsRepository.getPosts()`
- ...
````

### Issue Linking

**In Issue Body**:

```markdown
## ðŸ”— Dependencies

Depends on: #145, #146

**Blocks**: None
```

**GitHub CLI**:

```bash
# Add dependency comment
gh issue comment 147 --body "Depends on #145, #146"
```

### Dependency Chain Example

```
Epic #144: Add comment functionality
  â”‚
  â”œâ”€ #145 [CONFIG] Check dependencies
  â”‚    â”‚
  â”‚    â””â”€ #146 [PROJECT] Scaffold structure
  â”‚         â”‚
  â”‚         â”œâ”€ #147 [TESTS] Repository tests
  â”‚         â”‚    â”‚
  â”‚         â”‚    â””â”€ #151 [CODE] Repository implementation
  â”‚         â”‚
  â”‚         â”œâ”€ #148 [TESTS] Hooks tests
  â”‚         â”‚    â”‚
  â”‚         â”‚    â””â”€ #153 [CODE] Hooks implementation
  â”‚         â”‚
  â”‚         â””â”€ #149 [TESTS] Component tests
  â”‚              â”‚
  â”‚              â””â”€ #154-#159 [CODE] Components
```

## Epic Creation

If no Epic exists, create one:

### Epic Title

```
[Feature Name] - [Short Description]
```

Example: `Add comment functionality - Users can comment on posts`

### Epic Body

```markdown
# Feature: Add comment functionality

## ðŸ“‹ Description

Users can add, edit, delete comments on posts with real-time updates.

## ðŸŽ¯ Goals

- Comment CRUD operations
- Real-time comment updates
- Comment author information
- Reply threading (future)

## ðŸ“š Related Documents

- [Spec](./specs/5-comments/spec.md)
- [Plan](./specs/5-comments/plan.md)
- [Tasks](./specs/5-comments/tasks.md)

## ðŸ“Š Progress

- [ ] v0.0.x CONFIG (1 task)
- [ ] v0.1.x PROJECT (1 task)
- [ ] v0.2.x TESTS (3 tasks)
- [ ] v0.3.x DATA (1 task)
- [ ] v0.4.x CODE (9 tasks)

**Total Tasks**: 15
**Estimated Effort**: ~2-3 days

## ðŸ”— Sub-Issues

[Auto-updated by skill:create-issues]

- #145: [v0.0.x CONFIG] Check dependencies
- #146: [v0.1.x PROJECT] Scaffold domain structure
- ...

---

ðŸ¤– Generated by Claude Code - Epic Management
```

### Epic Labels

- `epic`
- `domain:[domain]`
- `milestone:[version]`

## Dependencies

### Foundation Commands (Layer 1)

- None (uses GitHub CLI directly)

### Skills (Layer 2)

- None (standalone skill, invoked by `skill:spec`)

### External Tools

- `gh issue create` - Create GitHub Issues
- `gh issue edit` - Edit existing issues
- `gh issue comment` - Add dependency comments
- `gh api` - GitHub REST API for advanced operations

## Related Skills

- `spec` - Generates tasks.md that feeds this skill
- `implement` - Uses created issues for tracking
- `verify` - May check issue completion status

## Error Handling

### Issue Creation Failure

1. **Authentication Error**
   - Check `gh auth status`
   - Prompt user to authenticate: `gh auth login`

2. **Permission Error**
   - Verify user has write access to repository
   - Check organization permissions

3. **API Rate Limit**
   - Detect rate limit error
   - Pause and retry after cooldown
   - Batch remaining issues

4. **Duplicate Issues**
   - Check for existing issues with same title
   - Skip if already exists
   - Report skipped issues

### tasks.md Parse Error

1. **Invalid Format**
   - Report parsing error with line number
   - Suggest format corrections
   - Exit without creating issues

2. **Missing Metadata**
   - Use defaults (complexity: medium, layer: CODE)
   - Warn user about missing info

## Success Criteria

This skill succeeds when:

- âœ… All tasks from tasks.md converted to Issues
- âœ… Issues created in dependency order
- âœ… All labels correctly applied
- âœ… Epic linked to all sub-issues
- âœ… tasks.md updated with issue references
- âœ… No duplicate issues created
- âœ… Dependency chains properly established
- âœ… Summary report generated
